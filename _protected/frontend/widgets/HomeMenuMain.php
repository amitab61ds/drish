<?phpnamespace frontend\widgets;use common\models\Category;use Yii;use yii\base\Widget;use common\models\Menu;class HomeMenuMain extends Widget{	public function run()	{		$footer_menu = Menu::findOne(['id' => 25,'status'=>1]);		$children = $footer_menu->children(1)->all();		$menus = array();		$j = 0;		foreach($children as $childs){			if($childs->status != 1)				continue;			$sub_children = $childs->children(1)->all();						$i = 0;			$menus[$childs->id]['name'] = $childs->name;			$menus[$childs->id]['link'] = $childs->link;			$menus[$childs->id]['icon'] = $childs->icon;			if($sub_children){				foreach($sub_children as $sub_child){					if($sub_child->status != 1)						continue;											$sub_children1 = $sub_child->children(1)->all();					$menus[$childs->id]['child'][$sub_child->id]['name'] = $sub_child->name;					$menus[$childs->id]['child'][$sub_child->id]['link'] = $sub_child->link;					$menus[$childs->id]['child'][$sub_child->id]['icon'] = $sub_child->icon;					if($sub_children1){						foreach($sub_children1 as $sub_child1){							if($sub_child1->status != 1)								continue;							$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['name'] = $sub_child1->name;							$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['link'] = $sub_child1->link;							$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['icon'] = $sub_child1->icon;						}					}					if($sub_child->menu_type == 3){						$subcats = Category::findOne(['id' =>$sub_child->term_id,'status'=>1]);						$subcatmenus = $subcats->children(1)->all();						if($subcatmenus) {							foreach ($subcatmenus as $sub_child1) {								if ($sub_child1->status != 1)									continue;								$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['name'] = $sub_child1->name;								$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['link'] = "category/".$sub_child1->slug.".html";								$menus[$childs->id]['child'][$sub_child->id]['child'][$sub_child1->id]['icon'] = $sub_child1->icon;							}						}					}										}			}		}		return $this->render('homeMenuMain', [			'menus' =>  $menus,        ]);			}}